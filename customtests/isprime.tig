/* 嵌套函数, 静态链; if-then; if-then-else */

let
    var ans := 1
    function isPrime(num: int) =
    let
        function isDivisible(dividend:int, divisor: int) = 
            ans := (dividend / divisor * divisor <> dividend)
    in
        if num = 2
        then ans := 1
        else 
            for i := 2 to num - 1 do 
            (
                isDivisible(num, i);
                if 1 <> ans then break
            )
    end
in
    isPrime(10)
end